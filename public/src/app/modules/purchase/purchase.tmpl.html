<div content-for="title">
  <span>Покупки</span>
</div>

<div class="scrollable" ng-controller="PurchaseController">
  <div class="scrollable-content">

      <form name="PurchaseForm" class="form-inline" role="form" novalidate ng-submit="submit()">

          <div class="form-group">
              <label class="control-label"><i class="fa fa-calendar"></i> Start date </label>
              <datepicker button-prev="<i class='fa fa-arrow-left'></i>" button-next="<i class='fa fa-arrow-right'></i>">
                  <input type="text" class="form-control" ng-model="startDate">
              </datepicker>
              <hr>
              <label class="control-label"><i class="fa fa-calendar"></i> End date </label>
              <datepicker button-prev="<i class='fa fa-arrow-left'></i>" button-next="<i class='fa fa-arrow-right'></i>">
                  <input type="text" class="form-control" ng-model="endDate">
              </datepicker>
          </div>
          <hr>
          <input type="submit" value="Показать" class="btn btn-primary center-block" ng-disabled="PurchaseForm.$invalid">
          <hr>
      </form>

    <div class="table-container">
    <!-- st-safe-src="rowCollection" - to add sorting, but some error wit infinitive loop-->
		<table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-striped table-responsive">
			<thead>
				<tr>
					<th ng-repeat="col in columnNames" >{{col}}</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="row in displayedCollection">
					<td ng-repeat="col in columns">{{row[col]}}</td>
				</tr>
			</tbody>
		</table>

        <br/>Количество покупок по карте : {{count}}
        <br/>Сумма покупок по карте: {{sum}}

	</div>

	<div ng-show="isLoading" class="loading-indicator"></div>
  </div>
</div>